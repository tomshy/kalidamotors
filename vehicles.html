---

---

<!DOCTYPE html>
<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Gallery: Imports &amp; Local Stock - Kalida Motors Ltd</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700;800;900&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#136dec",
                        "background-light": "#f6f7f8",
                        "background-dark": "#101822",
                    },
                    fontFamily: {
                        "display": ["Public Sans", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
    <style>
        body {
            font-family: "Public Sans", sans-serif;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark text-[#111418] dark:text-white min-h-screen">
    {% include header.html %}
    <main class="max-w-[1280px] mx-auto pb-20">
        <section class="px-6 lg:px-10 py-8 lg:py-12">
            <div
                class="relative overflow-hidden rounded-xl bg-slate-900 min-h-[320px] lg:min-h-[420px] flex flex-col items-center justify-center text-center p-8">
                <div class="absolute inset-0 z-0 opacity-40 bg-cover bg-center"
                    style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuDu3EbxhaQOFq_ESYXw7fnBl7JY7mSOX-b4o-Soa1XBKpaI8ol4uwBhVLUokI8btKp79qTc6bsVpPE6Lsxu_ExfgtoqTtfqBIfwzdQluVlzp_75Ucgipu0VuLIHaTuqhZwhye1c0JErG-n5W_dw1joLHuhEKXlyfbq3CGo6wSu-pwMP0EXjl4ESOREGZ3TsAfBoJWn4QogQZwgdznMtx6p7MPFxhzaxGhHQaJ-Oll2CJdjoMWy_r4lCWZCk0XFJH5fVGMUVD7UcaAs');">
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/60 to-transparent z-10">
                </div>
                <div class="relative z-20 max-w-2xl flex flex-col gap-4">
                    <h1 class="text-white text-4xl lg:text-6xl font-black leading-tight tracking-tight">
                        Vehicle Gallery
                    </h1>
                    <p class="text-slate-200 text-base lg:text-lg font-normal">
                        Explore our track record of excellence through past imports or browse our locally available
                        units ready for immediate purchase in Kenya.
                    </p>
                    <div class="mt-4">
                        <a
                            href="auction_guide.html"
                            class="bg-primary text-white px-8 py-3 rounded-lg font-bold text-base hover:bg-blue-600 transition-colors inline-block">
                            View Auction Grading Guide
                        </a>
                    </div>
                </div>
            </div>
        </section>
        <section class="px-6 lg:px-10 mb-8">
            <div class="flex items-center justify-center border-b border-slate-200 dark:border-slate-800">
                <div class="flex gap-8">
                    <button onclick="switchTab('past')"
                        class="tab-btn px-4 py-4 border-b-2 border-primary text-primary font-bold text-lg transition-all"
                        data-tab="past">
                        Past Imports
                    </button>
                    <button onclick="switchTab('local')"
                        class="tab-btn px-4 py-4 border-b-2 border-transparent text-slate-500 hover:text-primary font-bold text-lg transition-all"
                        data-tab="local">
                        Local Units
                    </button>
                </div>
            </div>
        </section>
        <section class="px-6 lg:px-10 mb-6">
            <!-- <div
                class="flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-200 dark:border-slate-800 pb-6">
                <div class="flex gap-3 flex-wrap">
                    <button
                        class="flex h-10 items-center justify-center gap-2 rounded-full bg-primary text-white px-5 text-sm font-semibold">
                        All Makes
                    </button>
                    <button
                        class="flex h-10 items-center justify-center gap-2 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-5 text-sm font-medium hover:border-primary">
                        SUVs <span class="material-symbols-outlined text-[18px]">keyboard_arrow_down</span>
                    </button>
                    <button
                        class="flex h-10 items-center justify-center gap-2 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-5 text-sm font-medium hover:border-primary">
                        Luxury <span class="material-symbols-outlined text-[18px]">keyboard_arrow_down</span>
                    </button>
                    <button
                        class="flex h-10 items-center justify-center gap-2 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-5 text-sm font-medium hover:border-primary">
                        Sedans <span class="material-symbols-outlined text-[18px]">keyboard_arrow_down</span>
                    </button>
                </div>
                <div class="relative w-full md:w-64">
                    <span
                        class="absolute left-3 top-1/2 -translate-y-1/2 material-symbols-outlined text-slate-400">search</span>
                    <input
                        class="w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg pl-10 py-2 text-sm focus:ring-primary focus:border-primary"
                        placeholder="Search model or year..." type="text" />
                </div>
            </div> -->
        </section>
        <section class="px-6 lg:px-10" id="vehicles">
            <!-- Past Imports Grid -->
            {% include past_imports.html %}

            <!-- Local Units Grid -->
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8" id="localVehicles" style="display: none;">
    {% for vehicle in site.data.local_vehicles %}
    <div class="group bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all border border-slate-100 dark:border-slate-700">
        <div class="relative aspect-[4/3] overflow-hidden">
            <!-- Image Carousel Container -->
            <div class="carousel-container relative w-full h-full overflow-hidden" data-slides="{% if vehicle.images %}{{ vehicle.images.size }}{% else %}1{% endif %}">
                <div class="carousel-track flex transition-transform duration-300 ease-out h-full w-full">
                    {% if vehicle.images %}
                        {% for image in vehicle.images %}
                        <div class="carousel-slide relative flex-shrink-0 h-full w-full">
                            <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('{{ image }}');"></div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <div class="carousel-slide relative flex-shrink-0 w-full h-full">
                            <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('{{ vehicle.image }}');"></div>
                        </div>
                    {% endif %}
                </div>

                <!-- Navigation Arrows (show only if multiple images) -->
                {% if vehicle.images and vehicle.images.size > 1 %}
                <button onclick="prevImage(event, this)" class="carousel-prev absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-black/50 hover:bg-black/70 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10">
                    <span class="material-symbols-outlined text-sm">chevron_left</span>
                </button>
                <button onclick="nextImage(event, this)" class="carousel-next absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-black/50 hover:bg-black/70 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10">
                    <span class="material-symbols-outlined text-sm">chevron_right</span>
                </button>

                <!-- Dot Indicators -->
                <div class="absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5 z-10">
                    {% for image in vehicle.images %}
                    <div class="carousel-dot w-1.5 h-1.5 rounded-full bg-white/50 transition-all {% if forloop.first %}!bg-white !w-4{% endif %}" data-index="{{ forloop.index0 }}"></div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>

            <div class="absolute top-3 left-3 bg-green-600/90 backdrop-blur-sm text-white text-[10px] uppercase tracking-wider font-bold px-3 py-1 rounded-full z-10">
                {{ vehicle.badge }}
            </div>
        </div>
        <div class="p-5">
            <a href="vehicle.html?id={{ vehicle.id }}&tab=local" class="text-lg font-bold mb-1 hover:text-primary transition-colors">{{ vehicle.year }} {{ vehicle.title }}</a>
            {% if vehicle.subtitle %}
                                        <p class="text-slate-400 font-medium text-sm">{{ vehicle.subtitle }}</p>
                            {% endif %}
            <div class="flex items-center gap-3 text-slate-500 dark:text-slate-400 text-sm mb-4">
                <span class="flex items-center gap-1"><span class="material-symbols-outlined text-sm">verified</span> Grade {{ vehicle.grade }}</span>
                <span>â€¢</span>
                <span class="flex items-center gap-1"><span class="material-symbols-outlined text-sm">speed</span> {{ vehicle.mileage }}</span>
            </div>
            <a href="inquiry.html" class="w-full bg-primary text-white py-2.5 rounded-lg font-bold text-sm hover:bg-blue-600 transition-colors flex items-center justify-center gap-2">
                <span class="material-symbols-outlined text-[18px]">calendar_month</span> Book Viewing / Inquiry
            </a>
        </div>
    </div>
    {% endfor %}
</div>
        </section>
        <section class="mt-16 flex justify-center">
            <nav class="flex items-center gap-2">
                <button onclick="previousPage()" id="prevBtn"
                    class="w-10 h-10 flex items-center justify-center rounded-lg border border-slate-200 dark:border-slate-700 text-slate-400 hover:text-primary hover:border-primary transition-colors">
                    <span class="material-symbols-outlined">chevron_left</span>
                </button>
                <div id="pageNumbers" class="flex items-center gap-2">
                    <!-- Generated dynamically -->
                </div>
                <button onclick="nextPage()" id="nextBtn"
                    class="w-10 h-10 flex items-center justify-center rounded-lg border border-slate-200 dark:border-slate-700 text-slate-400 hover:text-primary hover:border-primary transition-colors">
                    <span class="material-symbols-outlined">chevron_right</span>
                </button>
            </nav>
        </section>
        <section class="mt-24 px-6 lg:px-10">
            <div
                class="bg-primary/5 dark:bg-primary/10 rounded-2xl p-8 lg:p-12 border border-primary/10 flex flex-col md:flex-row items-center justify-between gap-8">
                <div class="max-w-xl">
                    <h2 class="text-2xl lg:text-3xl font-bold mb-3">Transparency &amp; Professionalism</h2>
                    <p class="text-slate-600 dark:text-slate-300">
                        At Kalida Motors Ltd, we believe in a service built on trust. Every car we source comes with
                        original auction sheets, verified mileage and a clear inspection report. Start
                        your journey with a partner you can rely on.
                    </p>
                </div>
                <div class="flex flex-col sm:flex-row gap-4 w-full md:w-auto">
                    <a
                        href="https://wa.me/254718036460"
                        target="_blank"
                        rel="noopener"
                        class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-bold whitespace-nowrap flex items-center gap-2 transition-colors"
                        aria-label="Chat on WhatsApp">
                        <span class="material-symbols-outlined text-[22px]">chat</span>
                        Tuchapie na WhatsApp
                    </a>
                </div>
            </div>
        </section>
    </main>
    {% include footer.html %}
</body>
<script>
    // Track carousel state per container
    const carouselState = new Map();
    
    function nextImage(event, btn) {
        event.preventDefault();
        event.stopPropagation();
        const container = btn.closest('.carousel-container');
        const track = container.querySelector('.carousel-track');
        const slideCount = parseInt(container.dataset.slides) || 1;
        const containerId = Array.from(document.querySelectorAll('.carousel-container')).indexOf(container);
        
        // Get current index from state
        let currentIndex = carouselState.get(containerId) || 0;
        const nextIndex = (currentIndex + 1) % slideCount;
        
        // Update track transform
        track.style.transform = `translateX(calc(-${nextIndex} * 100%))`;
        carouselState.set(containerId, nextIndex);
        updateDots(container, nextIndex);
    }
    
    function prevImage(event, btn) {
        event.preventDefault();
        event.stopPropagation();
        const container = btn.closest('.carousel-container');
        const track = container.querySelector('.carousel-track');
        const slideCount = parseInt(container.dataset.slides) || 1;
        const containerId = Array.from(document.querySelectorAll('.carousel-container')).indexOf(container);
        
        // Get current index from state
        let currentIndex = carouselState.get(containerId) || 0;
        const prevIndex = currentIndex === 0 ? slideCount - 1 : currentIndex - 1;
        
        // Update track transform
        track.style.transform = `translateX(calc(-${prevIndex} * 100%))`;
        carouselState.set(containerId, prevIndex);
        updateDots(container, prevIndex);
    }
    
    function updateDots(container, activeIndex) {
        const dots = container.querySelectorAll('.carousel-dot');
        dots.forEach((dot, idx) => {
            if (idx === activeIndex) {
                dot.classList.add('!bg-white', '!w-4');
                dot.classList.remove('bg-white/50');
            } else {
                dot.classList.remove('!bg-white', '!w-4');
                dot.classList.add('bg-white/50');
            }
        });
    }
    let currentTab = 'past';
    let currentPage = 1;
    const itemsPerPage = 6;

    function switchTab(tab) {
        currentTab = tab;
        currentPage = 1;

        // Update button styles
        document.querySelectorAll('.tab-btn').forEach(btn => {
            if (btn.dataset.tab === tab) {
                btn.classList.add('border-primary', 'text-primary');
                btn.classList.remove('border-transparent', 'text-slate-500');
            } else {
                btn.classList.remove('border-primary', 'text-primary');
                btn.classList.add('border-transparent', 'text-slate-500');
            }
        });

        // Show/hide vehicle sections
        document.getElementById('pastImports').style.display = tab === 'past' ? 'grid' : 'none';
        document.getElementById('localVehicles').style.display = tab === 'local' ? 'grid' : 'none';

        // Update pagination and show first page
        updatePagination();
        showPage(1);
    }

    function getVehicles() {
        const grid = currentTab === 'past' ?
            document.getElementById('pastImports') :
            document.getElementById('localVehicles');
        return Array.from(grid.querySelectorAll('.group'));
    }

    function getTotalPages() {
        const vehicles = getVehicles();
        return Math.ceil(vehicles.length / itemsPerPage);
    }

    function showPage(pageNum) {
        const vehicles = getVehicles();
        const totalPages = getTotalPages();

        if (pageNum < 1) pageNum = 1;
        if (pageNum > totalPages) pageNum = totalPages;

        currentPage = pageNum;

        // Hide all vehicles
        vehicles.forEach(v => v.style.display = 'none');

        // Show vehicles for current page
        const startIdx = (pageNum - 1) * itemsPerPage;
        const endIdx = startIdx + itemsPerPage;
        vehicles.slice(startIdx, endIdx).forEach(v => v.style.display = 'block');

        // Update pagination buttons and highlight current page
        updatePaginationButtons();
        updatePagination();
        
        // Scroll to the vehicles section
        const vehiclesSection = document.getElementById("vehicles");
        if (vehiclesSection) {
            vehiclesSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    }

    function updatePaginationButtons() {
        const totalPages = getTotalPages();
        document.getElementById('prevBtn').disabled = currentPage === 1;
        document.getElementById('nextBtn').disabled = currentPage === totalPages;
    }

    function updatePagination() {
        const totalPages = getTotalPages();
        const pageNumbersContainer = document.getElementById('pageNumbers');
        pageNumbersContainer.innerHTML = '';

        // Generate page buttons
        for (let i = 1; i <= totalPages; i++) {
            const btn = document.createElement('button');
            btn.textContent = i;
            btn.className = `w-10 h-10 flex items-center justify-center rounded-lg transition-colors ${i === currentPage
                ? 'bg-primary text-white font-bold'
                : 'border border-slate-200 dark:border-slate-700 hover:text-primary hover:border-primary'
                }`;
            btn.onclick = () => showPage(i);
            pageNumbersContainer.appendChild(btn);

            // Add ellipsis if needed (show first 3, last 2)
            if (i === 3 && totalPages > 6) {
                const ellipsis = document.createElement('span');
                ellipsis.textContent = '...';
                ellipsis.className = 'px-2';
                pageNumbersContainer.appendChild(ellipsis);
                i = totalPages - 2;
            }
        }
    }

    function nextPage() {
        showPage(currentPage + 1);
    }

    function previousPage() {
        showPage(currentPage - 1);
    }

    // Initialize with 'past' tab active
    switchTab('past');
</script>

</html>